<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>PSLM Stories</title>
  <meta name="description" content="PSLM Stories" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="PSLM Stories" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="PSLM Stories" />
  
  
  

<meta name="author" content="Rabeez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="the-household-roster.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PSLM Stories</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>The PSLM Survey</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#this-repository"><i class="fa fa-check"></i><b>0.1</b> This repository</a></li>
</ul></li>
<li class="part"><span><b>I Sections of the survery</b></span></li>
<li class="chapter" data-level="1" data-path="the-household-roster.html"><a href="the-household-roster.html"><i class="fa fa-check"></i><b>1</b> The Household Roster</a></li>
<li class="chapter" data-level="2" data-path="education.html"><a href="education.html"><i class="fa fa-check"></i><b>2</b> Education</a></li>
<li class="chapter" data-level="3" data-path="health.html"><a href="health.html"><i class="fa fa-check"></i><b>3</b> Health</a></li>
<li class="chapter" data-level="4" data-path="employment.html"><a href="employment.html"><i class="fa fa-check"></i><b>4</b> Employment</a></li>
<li class="part"><span><b>II Detailed Analyses</b></span></li>
<li class="chapter" data-level="5" data-path="marriages-in-pakistan.html"><a href="marriages-in-pakistan.html"><i class="fa fa-check"></i><b>5</b> Marriages in Pakistan</a>
<ul>
<li class="chapter" data-level="5.1" data-path="marriages-in-pakistan.html"><a href="marriages-in-pakistan.html#underage-marriages"><i class="fa fa-check"></i><b>5.1</b> Underage marriages</a></li>
<li class="chapter" data-level="5.2" data-path="marriages-in-pakistan.html"><a href="marriages-in-pakistan.html#age-gap-in-couples"><i class="fa fa-check"></i><b>5.2</b> Age-gap in couples</a></li>
<li class="chapter" data-level="5.3" data-path="marriages-in-pakistan.html"><a href="marriages-in-pakistan.html#income-gap-in-couples"><i class="fa fa-check"></i><b>5.3</b> Income-gap in couples</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSLM Stories</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">PSLM Stories</h1>
<p class="author"><em>Rabeez</em></p>
</div>
<div id="the-pslm-survey" class="section level1 unnumbered">
<h1>The PSLM Survey</h1>
<p>The Pakistan Social And Living Standards Measurement Survey (PSLM) is the most frequent and up-to-date demographic survey conducted in Pakistan with sufficient detail to allow interesting explorations through the data. The survey responses (microdate) are shared by the Pakistan Bureau of Statistics (PBS) in form of Stata files dta along with pdf questionnaires used for each year. The questionnaire changes over the years and sometimes even entire sections are removed/added.</p>
<p>I have created scripts which clean and standardize the survey microdata. My goal is to provide an accessible dataset from where social scientists and analysts can start their actual work without having to worry about the very clunky structure of the raw data.</p>
<p>The scripts go through the following steps for each section available in each year:</p>
<ul>
<li>Load dta file</li>
<li>Rename columns from numeric codes into human-readable phrases
I have chosen the phrases to ensure same questions (regardless of question number in survey) have same name across years adn to avoid and to avoid name conflicts for similar sounding questions. But they are still based on my opinions so I will include a mapping from my names to original codes - so anyone familiar with the PSLM questionnaire can use their own naming if they wish.
Fix encoding issues (especially across years). For example for a single section in some years province will be kept as a text value for other - years it will be a number (thankfully the mapping is consistent and available in PBS reports)</li>
<li>Convert columns into appropriate data types</li>
<li>Add a column denoting the year for survey</li>
<li>Save each section for each year in a separate csv file</li>
</ul>
<p>Things the scripts do not do:
1. Perform text cleaning (inconsistent cases, “KP”/“KPK” representing same province etc)
2. Imputing/removing missing values
3. Combining cleaned files into big files for a single year containing all sections (or similar thing for same sections across all years)</p>
<p>My reason for not doing any of these is to not get in the way of analysts who will have different objectives/goals with their analyses. I want to preserve as much of the original data semantics as possible while removing unnecessary cleaning steps which they will have to repeat themselves for all files.</p>
<div id="this-repository" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> This repository</h2>
<p>The goal here is to have illustrative examples of loading and performing simple data cleaning or exploration which any analyst can follow and replicate.</p>
<p>Another goal is to provide a few examples of more detailed and targeted analyses which are supposed to show how much easier it is to answer rich questions if the major hurdle of parsing/cleaning the dta files is already done.</p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>

<a href="the-household-roster.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Rabeez/pslm-stories/edit/master/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Rabeez/pslm-stories/blob/master/index.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"description": "Illustrative analyses on cleaned PSLM data.",
"url": "https\://rabeez.github.io/pslm-stories/index.html",
"github-repo": "Rabeez/pslm-stories",
"cover-image": "favicon.png",
"favicon": "favicon.png",
"df_print": "paged",
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
